---
title: "Project Draft"
author: "Haley Vien"
date: "12/3/2019"
output: html_document
---

```{r setup, include=FALSE}
library(fivethirtyeight)
library(ggplot2)
data("hiphop_cand_lyrics")
library(broom)
library(moderndive)
library(tidyverse)
library(openintro)
library(ggridges)
```

#The Data

The data we will be using is *hiphop_cand_lyrics* from the *fivethirtyeight* package. This data represents when hiphop songs referenced POTUS candidates in 2016. There are 377 rows of data and 8 variables. The 8 variables are the *candidate* referenced, the *song* name, the *artist*, the *sentiment* of the lyric, the *theme* of the lyric, the *album_release_date*, the *line* referencing the candidate, and the *url* to the song. This data was collected from [Genius](https://genius.com/).

#Research Question

When looking at Hillary and Trumpâ€™s mentions in hip hop songs, does the relation between candidate or theme and sentiment differ between the two and does that change over time? 

Our response variable is sentiment while our explanatory variables are candidate, theme, and the album's release date. 

```{r}
hiphop_hcdt <- hiphop_cand_lyrics %>% 
  filter(candidate %in% c("Hillary Clinton", "Donald Trump"))
```

```{r}
hiphop_hc <- hiphop_cand_lyrics %>% 
  filter(candidate %in% c("Hillary Clinton"))
```

```{r}
hiphop_dt <- hiphop_cand_lyrics %>% 
  filter(candidate %in% c("Donald Trump"))
```



```{r}
ggplot(data = hiphop_hcdt) + 
  geom_bar(aes(x = sentiment, fill = theme)) +
  facet_wrap(vars(candidate))
```

```{r}
ggplot(data = hiphop_hcdt)+
   geom_density_ridges(aes(x = album_release_date, fill = candidate, y = sentiment), alpha = .5)

```

```{r}
glm.cand <- glm(factor(sentiment) ~ candidate,
            data = hiphop_hcdt,
           family = binomial(link = "logit"))

tidy(glm.cand)
```


```{r}
glm.cand.date <- glm(factor(sentiment) ~ candidate + album_release_date,
            data = hiphop_hcdt,
           family = binomial(link = "logit"))

tidy(glm.cand.date)
```

